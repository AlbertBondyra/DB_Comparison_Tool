<?xml version="1.0"  encoding="UTF-8"?>
<databaseChangeLog  
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"  
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"  
        xmlns:ora="http://www.liquibase.org/xml/ns/dbchangelog-ext"  
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd
        http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">  

    <changeSet  id="2"  author="albert">  
        <createTable  tableName="DISEASE_STATUS_CHANGE">  
            <column  name="patient_id"  type="nvarchar(50)" />  
            <column  name="status_date"  type="nvarchar(20)" />  
			<column  name="good_pressure"  type="boolean" />  
			<column  name="well_being"  type="boolean" />  
			<column  name="cough"  type="boolean" />
			<column  name="painkillers"  type="boolean" /> 	
			<column  name="status"  type="varchar(20)" /> 
		</createTable>   
    </changeSet>
    <changeSet  author="liquibase-docs"  id="addForeignyKey-example">  
	  <addForeignKeyConstraint  baseColumnNames="patient_id"    
            baseTableName="DISEASE_STATUS_CHANGE"   
            constraintName="fk_disease_status_paitent_id"    
            referencedColumnNames="patient_id"   
            referencedTableName="PATIENTS"/> 
       <addNotNullConstraint columnDataType="nvarchar(50)" tableName="DISEASE_STATUS_CHANGE" columnName="patient_id"/>
       <addNotNullConstraint columnDataType="nvarchar(20)" tableName="DISEASE_STATUS_CHANGE" columnName="status_date"/>
       <addNotNullConstraint columnDataType="boolean" tableName="DISEASE_STATUS_CHANGE" columnName="good_pressure"/>
       <addNotNullConstraint columnDataType="boolean" tableName="DISEASE_STATUS_CHANGE" columnName="well_being"/>
       <addNotNullConstraint columnDataType="boolean" tableName="DISEASE_STATUS_CHANGE" columnName="cough"/>
       <addNotNullConstraint columnDataType="boolean" tableName="DISEASE_STATUS_CHANGE" columnName="painkillers"/>
       <addNotNullConstraint columnDataType="varchar(20)" tableName="DISEASE_STATUS_CHANGE" columnName="status"/>
 </changeSet> 
 <changeSet author="abon" id="1">
  		<sql>
     	ALTER TABLE DISEASE_STATUS_CHANGE ADD CHECK ( status IN (
        'dead',
        'recovered',
        'sick'));
  		</sql>
</changeSet>
 

    
 

</databaseChangeLog>



  